"use strict";(self.webpackChunkminima_hackathon_docs=self.webpackChunkminima_hackathon_docs||[]).push([[459],{3928:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>t,default:()=>h,frontMatter:()=>r,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"workshop3","title":"\ud83e\uddf1 3. Workshop: Backend Servisli MiniDapp - Basit Bir Twitter","description":"Bu workshop\'ta Minima \xfczerinde \xe7al\u0131\u015fan, kullan\u0131c\u0131dan gelen mesajlar\u0131 blockchain\'e yazan ve arka planda saklayarak g\xf6r\xfcnt\xfcleyen basit bir MiniDapp uygulamas\u0131 olu\u015fturaca\u011f\u0131z. Kullan\u0131c\u0131lar mesaj yazacak, bu mesaj send komutuyla blockchain\'e g\xf6nderilecek, service.js ile dinlenecek ve sql.js ile saklanacak.","source":"@site/docs/workshop3.md","sourceDirName":".","slug":"/workshop3","permalink":"/hackathon-workshop-docs/workshop3","draft":false,"unlisted":false,"editUrl":"https://github.com/your-org/minima-helloworld-docs/docs/workshop3.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3},"sidebar":"tutorialSidebar","previous":{"title":"Workshop 2: \u0130lk MiniDapp\'ini Geli\u015ftir","permalink":"/hackathon-workshop-docs/workshop2"}}');var a=s(4848),l=s(8453);const r={sidebar_position:3},t="\ud83e\uddf1 3. Workshop: Backend Servisli MiniDapp - Basit Bir Twitter",c={},d=[{value:"\ud83d\udcc1 Proje Dosya Yap\u0131s\u0131",id:"-proje-dosya-yap\u0131s\u0131",level:2},{value:"\ud83d\uddbc\ufe0f Aray\xfcz \u2013 index.html",id:"\ufe0f-aray\xfcz--indexhtml",level:2},{value:"\ud83e\udde0 Mesaj G\xf6nderimi \u2013 script.js",id:"-mesaj-g\xf6nderimi--scriptjs",level:2},{value:"\u2699\ufe0f Arka Plan Servisi \u2013 service.js",id:"\ufe0f-arka-plan-servisi--servicejs",level:2},{value:"\ud83d\uddc3\ufe0f SQL Sorgular\u0131 \u2013 sql.js",id:"\ufe0f-sql-sorgular\u0131--sqljs",level:2},{value:"\ud83d\udd04 Uygulama Ak\u0131\u015f\u0131",id:"-uygulama-ak\u0131\u015f\u0131",level:2},{value:"\ud83c\udfaf \xd6\u011frenilenler",id:"-\xf6\u011frenilenler",level:2},{value:"\ud83d\udca1 Geni\u015fletme Fikirleri",id:"-geni\u015fletme-fikirleri",level:2}];function o(e){const n={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,l.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"-3-workshop-backend-servisli-minidapp---basit-bir-twitter",children:"\ud83e\uddf1 3. Workshop: Backend Servisli MiniDapp - Basit Bir Twitter"})}),"\n",(0,a.jsxs)(n.p,{children:["Bu workshop'ta Minima \xfczerinde \xe7al\u0131\u015fan, kullan\u0131c\u0131dan gelen mesajlar\u0131 blockchain'e yazan ve arka planda saklayarak g\xf6r\xfcnt\xfcleyen basit bir MiniDapp uygulamas\u0131 olu\u015fturaca\u011f\u0131z. Kullan\u0131c\u0131lar mesaj yazacak, bu mesaj ",(0,a.jsx)(n.code,{children:"send"})," komutuyla blockchain'e g\xf6nderilecek, ",(0,a.jsx)(n.code,{children:"service.js"})," ile dinlenecek ve ",(0,a.jsx)(n.code,{children:"sql.js"})," ile saklanacak."]}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"-proje-dosya-yap\u0131s\u0131",children:"\ud83d\udcc1 Proje Dosya Yap\u0131s\u0131"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"index.html"})," \u2013 Kullan\u0131c\u0131 aray\xfcz\xfc"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"script.js"})," \u2013 Mesaj g\xf6nderme i\u015flemi"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"service.js"})," \u2013 Blockchain\u2019den gelen i\u015flemleri dinleme"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"sql.js"})," \u2013 Mesajlar\u0131 saklayan veri taban\u0131 i\u015flemleri"]}),"\n"]}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"\ufe0f-aray\xfcz--indexhtml",children:"\ud83d\uddbc\ufe0f Aray\xfcz \u2013 index.html"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-html",children:'<!DOCTYPE html>\n<html>\n<head>\n  <meta charset="UTF-8">\n  <title>Mini Twitter</title>\n</head>\n<body>\n  <h1>Mini Twitter</h1>\n  <textarea id="msgInput" rows="4" cols="50" placeholder="Mesaj\u0131n\u0131z\u0131 yaz\u0131n..."></textarea>\n  <br />\n  <button onclick="sendMessage()">Post</button>\n  <h2>Messages:</h2>\n  <div id="messages"></div>\n\n  <script src="mds.js"><\/script>\n  <script src="script.js"><\/script>\n</body>\n</html>\n'})}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"-mesaj-g\xf6nderimi--scriptjs",children:"\ud83e\udde0 Mesaj G\xf6nderimi \u2013 script.js"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:'function sendMessage() {\n  const msg = document.getElementById("msgInput").value;\n  if (!msg) return;\n\n  const state = {};\n  state[0] = "message";\n  state[1] = msg;\n\n  const func =\n    "send amount:0.0001 address:" +\n    "YOUR_MINIDAPP_ADDRESS_HERE" +\n    " state:" +\n    JSON.stringify(state);\n\n  MDS.cmd(func, function(res) {\n    console.log("Send response:", res);\n    document.getElementById("msgInput").value = "";\n  });\n}\n'})}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"\ufe0f-arka-plan-servisi--servicejs",children:"\u2699\ufe0f Arka Plan Servisi \u2013 service.js"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:'MDS.load("./sql.js");\n\nMDS.init(function(msg) {\n  if (msg.event === "inited") {\n    MDS.notify("YOUR_MINIDAPP_ADDRESS_HERE");\n    MDS.sql("CREATE TABLE IF NOT EXISTS posts (msg TEXT)", function() {});\n  }\n\n  if (msg.event === "NOTIFYCOIN") {\n    const stateData = msg.data.state;\n    if (stateData && stateData["0"] === "message") {\n      const message = stateData["1"];\n      MDS.sql(`INSERT INTO posts (msg) VALUES (\'${message}\')`, function() {\n        MDS.log("Mesaj eklendi: " + message);\n      });\n    }\n  }\n});\n'})}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"\ufe0f-sql-sorgular\u0131--sqljs",children:"\ud83d\uddc3\ufe0f SQL Sorgular\u0131 \u2013 sql.js"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:'function getMessages(callback) {\n  MDS.sql("SELECT * FROM posts", function(res) {\n    callback(res.rows);\n  });\n}\n'})}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.p,{children:"\ud83e\uddfe Ek Ad\u0131m: Mevcut Mesajlar\u0131 Y\xfckleme"}),"\n",(0,a.jsx)(n.p,{children:"Sayfa ilk a\xe7\u0131ld\u0131\u011f\u0131nda, veri taban\u0131ndaki t\xfcm mesajlar\u0131 ekrana getirmek i\xe7in getMessages() fonksiyonunu \xe7a\u011f\u0131rmam\u0131z gerekir. Bu i\u015flem i\xe7in HTML dosyas\u0131n\u0131n sonuna \u015fu script'i ekleyin:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-html",children:'<script>\n  MDS.init(function(msg) {\n    if (msg.event === "inited") {\n      getMessages(function(rows) {\n        const container = document.getElementById("messages");\n        container.innerHTML = "";\n        rows.forEach(row => {\n          const div = document.createElement("div");\n          div.textContent = row.msg;\n          container.appendChild(div);\n        });\n      });\n    }\n  });\n<\/script>\n'})}),"\n",(0,a.jsx)(n.p,{children:"Bu sayede uygulama a\xe7\u0131ld\u0131\u011f\u0131nda daha \xf6nce g\xf6nderilmi\u015f t\xfcm mesajlar otomatik olarak y\xfcklenecek ve kullan\u0131c\u0131ya g\xf6sterilecektir."}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"-uygulama-ak\u0131\u015f\u0131",children:"\ud83d\udd04 Uygulama Ak\u0131\u015f\u0131"}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsx)(n.li,{children:"Kullan\u0131c\u0131 mesaj\u0131 textarea i\xe7ine yazar."}),"\n",(0,a.jsxs)(n.li,{children:['"Post" tu\u015funa bas\u0131nca ',(0,a.jsx)(n.code,{children:"script.js"})," ile ",(0,a.jsx)(n.code,{children:"send"})," komutu tetiklenir."]}),"\n",(0,a.jsxs)(n.li,{children:["Mesaj ",(0,a.jsx)(n.code,{children:"state"})," i\xe7inde ",(0,a.jsx)(n.code,{children:'"0": "message", "1": "...mesaj"'})," olarak blockchain'e yaz\u0131l\u0131r."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"service.js"})," ",(0,a.jsx)(n.code,{children:"NOTIFYCOIN"})," eventiyle gelen mesaj\u0131 dinler."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"sql.js"})," arac\u0131l\u0131\u011f\u0131yla mesaj local veritaban\u0131na eklenir."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"getMessages()"})," fonksiyonuyla veri al\u0131nabilir."]}),"\n"]}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"-\xf6\u011frenilenler",children:"\ud83c\udfaf \xd6\u011frenilenler"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"send"})," komutunun state de\u011fi\u015fkenleriyle kullan\u0131m\u0131"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"MDS.notify()"})," ile i\u015flem takibi"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"MDS.sql()"})," ile MiniDapp i\xe7inde veri saklama"]}),"\n",(0,a.jsx)(n.li,{children:"MiniDapp'in backend ve frontend entegrasyonu"}),"\n"]}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"-geni\u015fletme-fikirleri",children:"\ud83d\udca1 Geni\u015fletme Fikirleri"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Kullan\u0131c\u0131 ismi ve zaman damgas\u0131 eklemek i\xe7in state[2], state[3] gibi ek alanlar"}),"\n",(0,a.jsx)(n.li,{children:"Gelen mesajlar\u0131 aray\xfczde g\xf6stermek i\xe7in getMessages()'in frontend'e entegresi"}),"\n",(0,a.jsx)(n.li,{children:"Mesaj silme ve d\xfczenleme fonksiyonlar\u0131 eklemek"}),"\n"]}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"Bu yap\u0131 Minima \xfczerinde \xe7al\u0131\u015fan merkeziyetsiz, hafif bir mesaj uygulamas\u0131n\u0131n temelini olu\u015fturur. \xd6\u011frendiklerinizi geni\u015fleterek MiniDapp geli\u015ftirme becerilerinizi art\u0131rabilirsiniz."}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(o,{...e})}):o(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>r,x:()=>t});var i=s(6540);const a={},l=i.createContext(a);function r(e){const n=i.useContext(l);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:r(e.components),i.createElement(l.Provider,{value:n},e.children)}}}]);